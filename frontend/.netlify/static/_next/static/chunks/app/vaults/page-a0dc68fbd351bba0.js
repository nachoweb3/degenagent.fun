(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{31090:function(e,t,s){Promise.resolve().then(s.bind(s,26241))},26241:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(57437),l=s(2265),n=s(15408),r=s(72596),i=s(83464);let o="https://degenagent-backend.onrender.com/api";function c(){let{publicKey:e}=(0,n.O)(),[t,s]=(0,l.useState)([]),[c,d]=(0,l.useState)(!0),[u,x]=(0,l.useState)(null),[m,h]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await i.Z.get("".concat(o,"/vaults"));s(e.data.vaults)}catch(e){console.error("Error fetching vaults:",e)}finally{d(!1)}},b=e=>{switch(e){case"conservative":return"from-green-500 to-emerald-600";case"balanced":return"from-blue-500 to-cyan-600";case"aggressive":return"from-red-500 to-orange-600";default:return"from-purple-500 to-pink-600"}},f=e=>e<=3?{text:"Low Risk",color:"bg-green-500"}:e<=6?{text:"Medium Risk",color:"bg-yellow-500"}:{text:"High Risk",color:"bg-red-500"},j=async()=>{if(e&&u&&m)try{let t=await i.Z.post("".concat(o,"/vaults/deposit"),{vaultId:u.id,userWallet:e.toString(),amount:m});alert(t.data.message),g(!1),h(""),v()}catch(e){var t,s;alert((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to deposit")}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"\uD83D\uDCB0 APY Vaults"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Earn passive income with AI-powered trading vaults"})]}),(0,a.jsx)(r.a,{})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Total Value Locked"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:[t.reduce((e,t)=>e+parseFloat(t.totalValueLocked),0).toFixed(2)," SOL"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Total Depositors"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.reduce((e,t)=>e+t.totalDepositors,0)})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Avg APY"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[(t.reduce((e,t)=>e+t.currentAPY,0)/t.length||0).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Active Vaults"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.length})]})]})]}),c?(0,a.jsx)("div",{className:"text-center py-12 text-white",children:"Loading vaults..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(t=>{let s=f(t.riskLevel);return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700 hover:border-purple-500 transition-all hover:shadow-xl hover:shadow-purple-500/20",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r ".concat(b(t.strategy)," p-6"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:t.name}),(0,a.jsx)("span",{className:"".concat(s.color," text-white text-xs px-2 py-1 rounded"),children:s.text})]}),(0,a.jsx)("p",{className:"text-white/90 text-sm",children:t.description})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Current APY"}),(0,a.jsxs)("div",{className:"text-4xl font-bold text-green-400",children:[t.currentAPY,"%"]}),(0,a.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["â‰ˆ ",t.dailyReturn,"% daily"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:"TVL"}),(0,a.jsxs)("div",{className:"text-white font-semibold",children:[parseFloat(t.totalValueLocked).toFixed(2)," SOL"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:"Min Deposit"}),(0,a.jsxs)("div",{className:"text-white font-semibold",children:[t.minDeposit," SOL"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:"Lock Period"}),(0,a.jsxs)("div",{className:"text-white font-semibold",children:[t.lockPeriod," days"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:"Depositors"}),(0,a.jsx)("div",{className:"text-white font-semibold",children:t.totalDepositors})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[(0,a.jsx)("span",{children:"Capacity"}),(0,a.jsxs)("span",{children:[t.utilizationRate,"%"]})]}),(0,a.jsx)("div",{className:"bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full",style:{width:"".concat(Math.min(parseFloat(t.utilizationRate),100),"%")}})})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Deposit Fee:"}),(0,a.jsxs)("span",{children:[t.depositFee,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Withdrawal Fee:"}),(0,a.jsxs)("span",{children:[t.withdrawalFee,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Performance Fee:"}),(0,a.jsxs)("span",{children:[t.performanceFee,"%"]})]})]}),(0,a.jsx)("button",{onClick:()=>{x(t),g(!0)},disabled:!e,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 rounded-lg font-semibold transition-all",children:e?"Deposit":"Connect Wallet"})]})]},t.id)})}),p&&u&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 max-w-md w-full",children:[(0,a.jsxs)("h3",{className:"text-2xl font-bold text-white mb-4",children:["Deposit to ",u.name]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Amount (SOL)"}),(0,a.jsx)("input",{type:"number",step:"0.1",min:u.minDeposit,value:m,onChange:e=>h(e.target.value),className:"w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-purple-500 outline-none",placeholder:"Min: ".concat(u.minDeposit," SOL")})]}),m&&(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mb-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between text-gray-400 mb-2",children:[(0,a.jsx)("span",{children:"Estimated Annual Return:"}),(0,a.jsxs)("span",{className:"text-green-400 font-semibold",children:[(parseFloat(m)*(u.currentAPY/100)).toFixed(4)," SOL"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-400",children:[(0,a.jsx)("span",{children:"Deposit Fee:"}),(0,a.jsxs)("span",{children:[(parseFloat(m)*(u.depositFee/100)).toFixed(4)," SOL"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>{g(!1),h("")},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-semibold transition",children:"Cancel"}),(0,a.jsx)("button",{onClick:j,disabled:!m||parseFloat(m)<parseFloat(u.minDeposit),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 rounded-lg font-semibold transition",children:"Confirm Deposit"})]})]})})]})})}},76625:function(e,t,s){"use strict";s.d(t,{z:function(){return l}});var a=s(2265);let l=e=>a.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&a.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&a.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon))},90724:function(e,t,s){"use strict";s.d(t,{o:function(){return l}});var a=s(2265);let l=({wallet:e,...t})=>e&&a.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t})},72596:function(e,t,s){"use strict";s.d(t,{a:function(){return u}});var a=s(2265),l=s(15408),n=s(76625),r=s(90724);function i({walletIcon:e,walletName:t,...s}){return a.createElement(n.z,{...s,className:"wallet-adapter-button-trigger",startIcon:e&&t?a.createElement(r.o,{wallet:{adapter:{icon:e,name:t}}}):void 0})}var o=s(72941);function c({children:e,labels:t,...s}){let{setVisible:n}=(0,o.h)(),{buttonState:r,onConnect:c,onDisconnect:d,publicKey:u,walletIcon:x,walletName:m}=function({onSelectWallet:e}){let t;let{connect:s,connected:n,connecting:r,disconnect:i,disconnecting:o,publicKey:c,select:d,wallet:u,wallets:x}=(0,l.O)();t=r?"connecting":n?"connected":o?"disconnecting":u?"has-wallet":"no-wallet";let m=(0,a.useCallback)(()=>{s().catch(()=>{})},[s]),h=(0,a.useCallback)(()=>{i().catch(()=>{})},[i]);return{buttonState:t,onConnect:"has-wallet"===t?m:void 0,onDisconnect:"disconnecting"!==t&&"no-wallet"!==t?h:void 0,onSelectWallet:(0,a.useCallback)(()=>{e({onSelectWallet:d,wallets:x})},[e,d,x]),publicKey:c??void 0,walletIcon:u?.adapter.icon,walletName:u?.adapter.name}}({onSelectWallet(){n(!0)}}),[h,p]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{let t=b.current;!t||t.contains(e.target)||v(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]);let f=(0,a.useMemo)(()=>{if(e)return e;if(u){let e=u.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===r||"has-wallet"===r?t[r]:t["no-wallet"]},[r,e,t,u]);return a.createElement("div",{className:"wallet-adapter-dropdown"},a.createElement(i,{...s,"aria-expanded":g,style:{pointerEvents:g?"none":"auto",...s.style},onClick:()=>{switch(r){case"no-wallet":n(!0);break;case"has-wallet":c&&c();break;case"connected":v(!0)}},walletIcon:x,walletName:m},f),a.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${g&&"wallet-adapter-dropdown-list-active"}`,ref:b,role:"menu"},u?a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),p(!0),setTimeout(()=>p(!1),400)},role:"menuitem"},h?t.copied:t["copy-address"]):null,a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),v(!1)},role:"menuitem"},t["change-wallet"]),d?a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{d(),v(!1)},role:"menuitem"},t.disconnect):null))}let d={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function u(e){return a.createElement(c,{...e,labels:d})}},72941:function(e,t,s){"use strict";s.d(t,{g:function(){return r},h:function(){return i}});var a=s(2265);let l={setVisible(e){console.error(n("call","setVisible"))},visible:!1};function n(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(l,"visible",{get:()=>(console.error(n("read","visible")),!1)});let r=(0,a.createContext)(l);function i(){return(0,a.useContext)(r)}},15408:function(e,t,s){"use strict";s.d(t,{O:function(){return o},z:function(){return i}});var a=s(2265);let l=[],n={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){r("call","select")},connect:()=>Promise.reject(r("call","connect")),disconnect:()=>Promise.reject(r("call","disconnect")),sendTransaction:()=>Promise.reject(r("call","sendTransaction")),signTransaction:()=>Promise.reject(r("call","signTransaction")),signAllTransactions:()=>Promise.reject(r("call","signAllTransactions")),signMessage:()=>Promise.reject(r("call","signMessage")),signIn:()=>Promise.reject(r("call","signIn"))};function r(e,t){let s=Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(s),s}Object.defineProperty(n,"wallets",{get:()=>(r("read","wallets"),l)}),Object.defineProperty(n,"wallet",{get:()=>(r("read","wallet"),null)}),Object.defineProperty(n,"publicKey",{get:()=>(r("read","publicKey"),null)});let i=(0,a.createContext)(n);function o(){return(0,a.useContext)(i)}}},function(e){e.O(0,[957,464,478,117,744],function(){return e(e.s=31090)}),_N_E=e.O()}]);